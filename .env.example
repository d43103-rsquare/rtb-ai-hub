# ─── Dev Mode (set to bypass Google OAuth with a fixed account) ──────────────
DEV_MODE=true
DEV_USER_EMAIL=your-email@company.com
DEV_USER_NAME=Your Name

# ─── AI (single shared account — Claude only) ──────────────────────────────
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# ─── External Services ──────────────────────────────────────────────────────
JIRA_HOST=rsquare.atlassian.net
JIRA_EMAIL=your-email@company.com
JIRA_API_TOKEN=your-jira-api-token

FIGMA_ACCESS_TOKEN=your-figma-access-token
GITHUB_TOKEN=ghp_your-github-token

DD_API_KEY=your-datadog-api-key
DD_APP_KEY=your-datadog-app-key

# ─── Infrastructure ─────────────────────────────────────────────────────────
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=rtb_ai_hub
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

REDIS_HOST=redis
REDIS_PORT=6379

# ─── Multi-Agent Mode ──────────────────────────────────────────────────────
USE_MULTI_AGENT=false

# ─── Wiki Knowledge DB (rtb-wiki Obsidian vault path) ─────────────────────
# Set to the absolute path of the rtb-wiki directory to enable domain knowledge injection.
# Leave empty to disable wiki integration (agents will work without domain context).
# WIKI_PATH=/Users/you/Workspace/ai/rtb-wiki

# ─── Application ────────────────────────────────────────────────────────────
NODE_ENV=development
LOG_LEVEL=info

WEBHOOK_PORT=4000
DASHBOARD_PORT=3000
AUTH_SERVICE_PORT=4001
DASHBOARD_URL=http://localhost:3000

# ─── Google OAuth (production — ignored when DEV_MODE=true) ─────────────────
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:4001/auth/google/callback
ALLOWED_WORKSPACE_DOMAINS=your-company.com

# ─── Security ───────────────────────────────────────────────────────────────
JWT_SECRET=your-jwt-secret-key-here-minimum-32-characters

# ─── Per-Environment Credentials (optional, falls back to base credentials) ───

# INT Environment
# INT_JIRA_HOST=
# INT_JIRA_EMAIL=
# INT_JIRA_API_TOKEN=
# INT_FIGMA_ACCESS_TOKEN=
# INT_GITHUB_TOKEN=
# INT_DD_API_KEY=
# INT_DD_APP_KEY=

# STG Environment
# STG_JIRA_HOST=
# STG_JIRA_EMAIL=
# STG_JIRA_API_TOKEN=
# STG_FIGMA_ACCESS_TOKEN=
# STG_GITHUB_TOKEN=
# STG_DD_API_KEY=
# STG_DD_APP_KEY=

# ─── Workflow Config (MCP tool calls) ────────────────────────────────────────
# Jira: Service Account로 Epic/Issue 생성 시 사용할 프로젝트 키
JIRA_PROJECT_KEY=RNR
# INT_JIRA_PROJECT_KEY=DEV-PROJ
# STG_JIRA_PROJECT_KEY=STG-PROJ

# GitHub: 기본 대상 리포 (컴포넌트 라우팅에 매칭되지 않을 때 폴백)
GITHUB_REPO=your-org/your-repo
# INT_GITHUB_REPO=your-org/your-dev-repo
# STG_GITHUB_REPO=your-org/your-staging-repo

# ─── Repo Routing (MSA 멀티 레포 지원) ───────────────────────────────────────
# Jira Component → GitHub Repo 매핑 (콤마 구분)
# 예: Backend 컴포넌트의 이슈는 rsquare/be-api 레포로, Frontend는 rsquare/fe-app 레포로 라우팅
# REPO_ROUTING_REPOS=Backend=rsquare/be-api,Frontend=rsquare/fe-app,Infrastructure=rsquare/infra

# Environment → Base Branch 매핑 (콤마 구분, 기본값: int=develop,stg=staging,prd=main)
# REPO_ROUTING_BRANCHES=int=develop,stg=staging,prd=main

# ─── MCP Server Endpoints (로컬 개발 시 오버라이드) ──────────────────────────
# Docker 내부 네트워크에서는 자동 설정됨. 로컬 개발 시 아래 주석 해제:
# MCP_JIRA_INT_ENDPOINT=http://localhost:3010
# MCP_FIGMA_INT_ENDPOINT=http://localhost:3011
# MCP_GITHUB_INT_ENDPOINT=http://localhost:3012
# MCP_DATADOG_INT_ENDPOINT=http://localhost:3013

# ─── Atlassian Rovo MCP (개발자 IDE 연동 — Option C Hybrid) ──────────────────
# 공식 Atlassian MCP 서버는 개발자 IDE(Cursor, VS Code 등)에서 사용합니다.
# 서버 자동화 워크플로우에는 위의 Service Account (JIRA_API_TOKEN)가 사용됩니다.
#
# IDE 설정 방법 (mcp.json 또는 settings.json):
# {
#   "mcpServers": {
#     "atlassian": {
#       "command": "npx",
#       "args": ["-y", "mcp-remote", "https://mcp.atlassian.com/v1/sse"]
#     }
#   }
# }
# 최초 실행 시 브라우저에서 Google SSO 인증이 필요합니다.
